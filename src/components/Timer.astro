<h1></h1>

<style></style>

<script >
const listaTareas = document.querySelector('.tareas');
const nuevaTareaForm = document.querySelector('#nueva-tarea');
const tareasPendientes = document.querySelector('.tareas-pendientes');


// Función para agregar una nueva tarea
function agregarTarea(titulo) {
  const tarea = document.createElement('div');
  tarea.classList.add('tarea');

  const checkbox = document.createElement('input');
  checkbox.type = 'checkbox';
  checkbox.classList.add('marcar-tarea');
  checkbox.addEventListener('change', () => {
    tarea.classList.toggle('tarea-completada');
    actualizarTareasPendientes();
  });

  const tituloElement = document.createElement('h3');
  tituloElement.classList.add('titulo');
  tituloElement.textContent = titulo;

  const accionesElement = document.createElement('div');
  accionesElement.classList.add('acciones');

  const eliminarBoton = document.createElement('button');
  eliminarBoton.classList.add('boton-eliminar');
  eliminarBoton.textContent = 'Eliminar';
  eliminarBoton.addEventListener('click', () => {
    tarea.parentNode.removeChild(tarea);
    actualizarTareasPendientes();
  });
  accionesElement.appendChild(eliminarBoton);

  tarea.appendChild(checkbox);
  tarea.appendChild(tituloElement);
  tarea.appendChild(accionesElement);

  listaTareas.appendChild(tarea);

  actualizarTareasPendientes();
}

// Función para actualizar el contador de tareas pendientes
function actualizarTareasPendientes() {
  const tareasCompletadas = document.querySelectorAll('.tarea-completada');
  const totalTareas = listaTareas.querySelectorAll('.tarea').length;
  const tareasPendientesCount = totalTareas - tareasCompletadas.length;

  tareasPendientes.textContent = `Tareas pendientes: ${tareasPendientesCount}`;
}

// Agregar un evento al formulario para agregar una nueva tarea
nuevaTareaForm.addEventListener('submit', (e) => {
  e.preventDefault();

  const titulo = nuevaTareaForm.querySelector('input').value;

  if (titulo) {
    agregarTarea(titulo);
    nuevaTareaForm.querySelector('input').value = '';
  }
});



// Inicializar la aplicación con algunas tareas de ejemplo
agregarTarea('Comprar leche');
agregarTarea('Refactorizar el backend');
agregarTarea('Agregar una nueva función a la aplicación');

actualizarTareasPendientes();

// Mostrar todas las tareas al cargar